<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DTLS v1.3 Implementation: DTLS v1.3 API Quick Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DTLS v1.3 Implementation<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Production-ready DTLS v1.3 implementation with RFC 9147 compliance and quantum-resistant cryptography</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2API__QUICK__REFERENCE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DTLS v1.3 API Quick Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md184"></a> </p>
<h1><a class="anchor" id="autotoc_md185"></a>
Essential Headers</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="connection_8h.html">dtls/connection.h</a>&gt;</span>       <span class="comment">// Main connection API</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="types_8h.html">dtls/types.h</a>&gt;</span>            <span class="comment">// Core types and enums</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="provider__factory_8h.html">dtls/crypto/provider_factory.h</a>&gt;</span>  <span class="comment">// Crypto provider management</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="result_8h.html">dtls/result.h</a>&gt;</span>           <span class="comment">// Error handling</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="protocol_8h.html">dtls/protocol.h</a>&gt;</span>         <span class="comment">// Protocol constants</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="memory_8h.html">dtls/memory.h</a>&gt;</span>           <span class="comment">// Buffer management</span></div>
<div class="ttc" id="aconnection_8h_html"><div class="ttname"><a href="connection_8h.html">connection.h</a></div><div class="ttdoc">DTLS v1.3 Connection Management API.</div></div>
<div class="ttc" id="amemory_8h_html"><div class="ttname"><a href="memory_8h.html">memory.h</a></div></div>
<div class="ttc" id="aprotocol_8h_html"><div class="ttname"><a href="protocol_8h.html">protocol.h</a></div></div>
<div class="ttc" id="aprovider__factory_8h_html"><div class="ttname"><a href="provider__factory_8h.html">provider_factory.h</a></div></div>
<div class="ttc" id="aresult_8h_html"><div class="ttname"><a href="result_8h.html">result.h</a></div></div>
<div class="ttc" id="atypes_8h_html"><div class="ttname"><a href="types_8h.html">types.h</a></div><div class="ttdoc">Core DTLS v1.3 Protocol Types and Constants.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md186"></a>
Quick Start Patterns</h1>
<h2><a class="anchor" id="autotoc_md187"></a>
Client Connection</h2>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacedtls_1_1v13.html">dtls::v13</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 1. Create crypto provider</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_namespace" href="namespacedtls_1_1v13_1_1crypto.html">crypto</a> = crypto::ProviderFactory::instance().create_provider(<span class="stringliteral">&quot;openssl&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 2. Configure connection</span></div>
<div class="line"><a class="code hl_struct" href="structdtls_1_1v13_1_1ConnectionConfig.html">ConnectionConfig</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a> = ConnectionConfig::default_client_config();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 3. Create and connect</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a> = Connection::create_client(</div>
<div class="line">    NetworkAddress::from_string(<span class="stringliteral">&quot;server.com:4433&quot;</span>).value(),</div>
<div class="line">    <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>, </div>
<div class="line">    std::move(<a class="code hl_namespace" href="namespacedtls_1_1v13_1_1crypto.html">crypto</a>.value())</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// 4. Handshake and communicate</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;handshake();</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;send({<span class="charliteral">&#39;H&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;o&#39;</span>});</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">response</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;receive();</div>
<div class="ttc" id="aclassdtls_1_1v13_1_1Result_html"><div class="ttname"><a href="classdtls_1_1v13_1_1Result.html">dtls::v13::Result</a></div><div class="ttdoc">Forward declaration for Result template class.</div><div class="ttdef"><b>Definition</b> <a href="result_8h_source.html#l00027">result.h:27</a></div></div>
<div class="ttc" id="anamespacedtls_1_1v13_1_1crypto_html"><div class="ttname"><a href="namespacedtls_1_1v13_1_1crypto.html">dtls::v13::crypto</a></div><div class="ttdoc">Crypto namespace contains all cryptographic functionality for DTLS v1.3 implementation.</div><div class="ttdef"><b>Definition</b> <a href="crypto_8h_source.html#l00075">crypto.h:75</a></div></div>
<div class="ttc" id="anamespacedtls_1_1v13_html"><div class="ttname"><a href="namespacedtls_1_1v13.html">dtls::v13</a></div><div class="ttdoc">Main namespace for DTLS v1.3 implementation.</div><div class="ttdef"><b>Definition</b> <a href="alert__manager_8h_source.html#l00017">alert_manager.h:17</a></div></div>
<div class="ttc" id="astructdtls_1_1v13_1_1ConnectionConfig_html"><div class="ttname"><a href="structdtls_1_1v13_1_1ConnectionConfig.html">dtls::v13::ConnectionConfig</a></div><div class="ttdoc">Connection configuration parameters.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00158">connection.h:158</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md188"></a>
Server Setup</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">manager</a> = ConnectionManager::create(ConnectionConfig::default_server_config());</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">manager</a>-&gt;bind(NetworkAddress::from_string(<span class="stringliteral">&quot;0.0.0.0:4433&quot;</span>).value());</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">manager</a>-&gt;set_event_callback([](<a class="code hl_enumeration" href="namespacedtls_1_1v13.html#ae6e8032c12417cb62fd44f38dfe5a1ea">ConnectionEvent</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">event</a>, <span class="keyword">const</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Connection.html">Connection</a>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>) {</div>
<div class="line">    <span class="comment">// Handle events</span></div>
<div class="line">});</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">manager</a>-&gt;run();</div>
<div class="ttc" id="aclassdtls_1_1v13_1_1Connection_html"><div class="ttname"><a href="classdtls_1_1v13_1_1Connection.html">dtls::v13::Connection</a></div><div class="ttdoc">Main DTLS v1.3 Connection implementation.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00304">connection.h:304</a></div></div>
<div class="ttc" id="anamespacedtls_1_1v13_html_ae6e8032c12417cb62fd44f38dfe5a1ea"><div class="ttname"><a href="namespacedtls_1_1v13.html#ae6e8032c12417cb62fd44f38dfe5a1ea">dtls::v13::ConnectionEvent</a></div><div class="ttdeci">ConnectionEvent</div><div class="ttdoc">Connection event types for callbacks.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00236">connection.h:236</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md189"></a>
Core Types Reference</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Usage    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Result&lt;T&gt;</code>   </td><td class="markdownTableBodyNone">Error handling wrapper   </td><td class="markdownTableBodyNone"><code>if (result) { use(*result); }</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>NetworkAddress</code>   </td><td class="markdownTableBodyNone">IP address + port   </td><td class="markdownTableBodyNone"><code>NetworkAddress::from_string("1.2.3.4:443")</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ConnectionConfig</code>   </td><td class="markdownTableBodyNone">Connection settings   </td><td class="markdownTableBodyNone"><code>ConnectionConfig::default_client_config()</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ConnectionID</code>   </td><td class="markdownTableBodyNone">Connection identifier   </td><td class="markdownTableBodyNone"><code>std::vector&lt;uint8_t&gt;</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>KeyMaterial</code>   </td><td class="markdownTableBodyNone">Cryptographic keys   </td><td class="markdownTableBodyNone"><code>std::vector&lt;uint8_t&gt;</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Buffer</code>   </td><td class="markdownTableBodyNone">Efficient byte buffer   </td><td class="markdownTableBodyNone"><code>Buffer buffer(1024);</code>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md190"></a>
Enums Quick Reference</h1>
<h2><a class="anchor" id="autotoc_md191"></a>
CipherSuite</h2>
<div class="fragment"><div class="line">CipherSuite::TLS_AES_256_GCM_SHA384        <span class="comment">// Recommended</span></div>
<div class="line">CipherSuite::TLS_AES_128_GCM_SHA256        <span class="comment">// Fast</span></div>
<div class="line">CipherSuite::TLS_CHACHA20_POLY1305_SHA256  <span class="comment">// Mobile-friendly</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md192"></a>
ConnectionState</h2>
<div class="fragment"><div class="line">ConnectionState::INITIAL           <span class="comment">// Starting state</span></div>
<div class="line">ConnectionState::CONNECTED         <span class="comment">// Ready for data</span></div>
<div class="line">ConnectionState::CLOSED           <span class="comment">// Connection closed</span></div>
<div class="line">ConnectionState::EARLY_DATA       <span class="comment">// 0-RTT mode</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md193"></a>
ConnectionEvent</h2>
<div class="fragment"><div class="line">ConnectionEvent::HANDSHAKE_COMPLETED    <span class="comment">// Ready to send data</span></div>
<div class="line">ConnectionEvent::DATA_RECEIVED          <span class="comment">// New data available</span></div>
<div class="line">ConnectionEvent::CONNECTION_CLOSED      <span class="comment">// Peer closed</span></div>
<div class="line">ConnectionEvent::ERROR_OCCURRED         <span class="comment">// Error occurred</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md194"></a>
Error Handling Patterns</h1>
<h2><a class="anchor" id="autotoc_md195"></a>
Result Type Usage</h2>
<div class="fragment"><div class="line"><span class="comment">// Check and use</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a> = connection-&gt;send(data);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a>) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Sent &quot;</span> &lt;&lt; *<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a> &lt;&lt; <span class="stringliteral">&quot; bytes\n&quot;</span>;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a>.<a class="code hl_function" href="classdtls_1_1v13_1_1Result.html#acae6b3edbb83a4098261519bc9f8e2a3">error</a>().message() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Value or default</span></div>
<div class="line"><span class="keywordtype">size_t</span> bytes_sent = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a>.<a class="code hl_function" href="classdtls_1_1v13_1_1Result.html#adbd04fc56f522afdd66b0d073c2ba6da">value_or</a>(0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Chain operations</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">final_result</a> = connection-&gt;handshake()</div>
<div class="line">    .<a class="code hl_function" href="classdtls_1_1v13_1_1Result.html#acec320deafbeffa7066b4f6198bac923">and_then</a>([&amp;]() { <span class="keywordflow">return</span> connection-&gt;send(data); })</div>
<div class="line">    .and_then([&amp;]() { <span class="keywordflow">return</span> connection-&gt;receive(); });</div>
<div class="ttc" id="aclassdtls_1_1v13_1_1Result_html_acae6b3edbb83a4098261519bc9f8e2a3"><div class="ttname"><a href="classdtls_1_1v13_1_1Result.html#acae6b3edbb83a4098261519bc9f8e2a3">dtls::v13::Result::error</a></div><div class="ttdeci">DTLSError error() const</div><div class="ttdef"><b>Definition</b> <a href="result_8h_source.html#l00107">result.h:107</a></div></div>
<div class="ttc" id="aclassdtls_1_1v13_1_1Result_html_acec320deafbeffa7066b4f6198bac923"><div class="ttname"><a href="classdtls_1_1v13_1_1Result.html#acec320deafbeffa7066b4f6198bac923">dtls::v13::Result::and_then</a></div><div class="ttdeci">auto and_then(F &amp;&amp;func) const &amp;-&gt; decltype(func(value()))</div><div class="ttdef"><b>Definition</b> <a href="result_8h_source.html#l00165">result.h:165</a></div></div>
<div class="ttc" id="aclassdtls_1_1v13_1_1Result_html_adbd04fc56f522afdd66b0d073c2ba6da"><div class="ttname"><a href="classdtls_1_1v13_1_1Result.html#adbd04fc56f522afdd66b0d073c2ba6da">dtls::v13::Result::value_or</a></div><div class="ttdeci">T value_or(U &amp;&amp;default_value) const &amp;</div><div class="ttdef"><b>Definition</b> <a href="result_8h_source.html#l00091">result.h:91</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md196"></a>
Common Error Codes</h2>
<div class="fragment"><div class="line">ErrorCode::NETWORK_ERROR          <span class="comment">// Network issues</span></div>
<div class="line">ErrorCode::HANDSHAKE_FAILED       <span class="comment">// Handshake problems</span></div>
<div class="line">ErrorCode::CRYPTO_ERROR           <span class="comment">// Cryptographic failures</span></div>
<div class="line">ErrorCode::PROTOCOL_ERROR         <span class="comment">// Protocol violations</span></div>
<div class="line">ErrorCode::OUT_OF_MEMORY          <span class="comment">// Memory allocation failed</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md197"></a>
Connection Management</h1>
<h2><a class="anchor" id="autotoc_md198"></a>
Basic Operations</h2>
<div class="fragment"><div class="line"><span class="comment">// Create connection</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a> = Connection::create_client(address, <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>, <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">crypto_provider</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Lifecycle</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;handshake();                 <span class="comment">// Perform handshake</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;send(data);                 <span class="comment">// Send application data</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">received</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;receive();   <span class="comment">// Receive data</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;close();                    <span class="comment">// Graceful close</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// State queries</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">connected</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;is_connected();</div>
<div class="line"><a class="code hl_enumeration" href="namespacedtls_1_1v13.html#a68896fa2f4ab2bfbb152b31cf949f0ad">ConnectionState</a> state = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;get_state();</div>
<div class="line"><a class="code hl_enumeration" href="namespacedtls_1_1v13.html#a2c8cefcd0588652f47924c24935f52e3">CipherSuite</a> suite = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;get_negotiated_cipher_suite();</div>
<div class="ttc" id="anamespacedtls_1_1v13_html_a2c8cefcd0588652f47924c24935f52e3"><div class="ttname"><a href="namespacedtls_1_1v13.html#a2c8cefcd0588652f47924c24935f52e3">dtls::v13::CipherSuite</a></div><div class="ttdeci">CipherSuite</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00153">types.h:153</a></div></div>
<div class="ttc" id="anamespacedtls_1_1v13_html_a68896fa2f4ab2bfbb152b31cf949f0ad"><div class="ttname"><a href="namespacedtls_1_1v13.html#a68896fa2f4ab2bfbb152b31cf949f0ad">dtls::v13::ConnectionState</a></div><div class="ttdeci">ConnectionState</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00266">types.h:266</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md199"></a>
Event Handling</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;set_event_callback([](<a class="code hl_enumeration" href="namespacedtls_1_1v13.html#ae6e8032c12417cb62fd44f38dfe5a1ea">ConnectionEvent</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">event</a>, <span class="keyword">const</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Connection.html">Connection</a>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>) {</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">event</a>) {</div>
<div class="line">        <span class="keywordflow">case</span> ConnectionEvent::HANDSHAKE_COMPLETED:</div>
<div class="line">            <span class="comment">// Connection ready</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> ConnectionEvent::DATA_RECEIVED:</div>
<div class="line">            <span class="comment">// Process conn.receive()</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> ConnectionEvent::ERROR_OCCURRED:</div>
<div class="line">            <span class="comment">// Handle error</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md200"></a>
Configuration Options</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structdtls_1_1v13_1_1ConnectionConfig.html">ConnectionConfig</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Crypto preferences</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.supported_cipher_suites = {</div>
<div class="line">    CipherSuite::TLS_AES_256_GCM_SHA384,</div>
<div class="line">    CipherSuite::TLS_CHACHA20_POLY1305_SHA256</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Timeouts</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.handshake_timeout = std::chrono::seconds(10);</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.retransmission_timeout = std::chrono::milliseconds(1000);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Features</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.enable_connection_id = <span class="keyword">true</span>;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.enable_early_data = <span class="keyword">true</span>;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.max_early_data_size = 16384;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Error recovery</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.error_recovery.max_retries = 3;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.error_recovery.enable_automatic_recovery = <span class="keyword">true</span>;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md201"></a>
Crypto Provider Management</h1>
<h2><a class="anchor" id="autotoc_md202"></a>
Factory Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span>&amp; factory = crypto::ProviderFactory::instance();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create default provider</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">provider</a> = factory.create_provider();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create specific provider</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">openssl_provider</a> = factory.create_provider(<span class="stringliteral">&quot;openssl&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">botan_provider</a> = factory.create_provider(<span class="stringliteral">&quot;botan&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check availability</span></div>
<div class="line"><span class="keywordtype">bool</span> available = factory.is_provider_available(<span class="stringliteral">&quot;openssl&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// List providers</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">providers</a> = factory.get_available_providers();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md203"></a>
Provider Capabilities</h2>
<div class="fragment"><div class="line"><span class="comment">// Query capabilities</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">suites</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">provider</a>-&gt;get_supported_cipher_suites();</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">groups</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">provider</a>-&gt;get_supported_groups();</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">signatures</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">provider</a>-&gt;get_supported_signatures();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Hardware acceleration</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">provider</a>-&gt;supports_hardware_acceleration()) {</div>
<div class="line">    <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">provider</a>-&gt;enable_hardware_acceleration();</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md204"></a>
Memory Management</h1>
<h2><a class="anchor" id="autotoc_md205"></a>
Buffer Operations</h2>
<div class="fragment"><div class="line"><span class="comment">// Create buffers</span></div>
<div class="line">Buffer buffer(1024);                    <span class="comment">// 1KB capacity</span></div>
<div class="line">Buffer <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">data_buffer</a>({<span class="charliteral">&#39;H&#39;</span>,<span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;o&#39;</span>});  <span class="comment">// From data</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Manipulate</span></div>
<div class="line">buffer.append(additional_data);</div>
<div class="line">Buffer slice = buffer.<a class="code hl_function" href="classdtls_1_1v13_1_1memory_1_1ZeroCopyBuffer.html#aa949ec8d2a31f30ec73820fec5907979">slice</a>(10, 100);   <span class="comment">// Offset 10, length 100</span></div>
<div class="line">buffer.secure_zero();                   <span class="comment">// Secure cleanup</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Pool usage</span></div>
<div class="line"><span class="keyword">auto</span>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">pool</a> = BufferPool::instance();</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">pooled_buffer</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">pool</a>.acquire(2048);</div>
<div class="line"><span class="comment">// ... use buffer ...</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">pool</a>.release(std::move(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">pooled_buffer</a>));</div>
<div class="ttc" id="aclassdtls_1_1v13_1_1memory_1_1ZeroCopyBuffer_html_aa949ec8d2a31f30ec73820fec5907979"><div class="ttname"><a href="classdtls_1_1v13_1_1memory_1_1ZeroCopyBuffer.html#aa949ec8d2a31f30ec73820fec5907979">dtls::v13::memory::ZeroCopyBuffer::slice</a></div><div class="ttdeci">Result&lt; ZeroCopyBuffer &gt; slice(size_t offset, size_t length) const</div><div class="ttdef"><b>Definition</b> <a href="buffer_8cpp_source.html#l00238">buffer.cpp:238</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md206"></a>
Zero-Copy Operations</h2>
<div class="fragment"><div class="line"><span class="comment">// Efficient data handling</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">send_result</a> = connection-&gt;send(buffer.data(), buffer.size());</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">receive_buffer</a> = Buffer(4096);</div>
<div class="line"><span class="keyword">auto</span> bytes_received = connection-&gt;receive(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">receive_buffer</a>.data(), </div>
<div class="line">                                         <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">receive_buffer</a>.capacity());</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md207"></a>
Advanced Features</h1>
<h2><a class="anchor" id="autotoc_md208"></a>
Early Data (0-RTT)</h2>
<div class="fragment"><div class="line"><span class="comment">// Client side</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">has_previous_session</a>) {</div>
<div class="line">    <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;send_early_data(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">early_data</a>);</div>
<div class="line">}</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;handshake();</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;is_early_data_accepted()) {</div>
<div class="line">    <span class="comment">// Early data was processed</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// Resend as regular data</span></div>
<div class="line">    <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;send(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">early_data</a>);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md209"></a>
Connection ID Migration</h2>
<div class="fragment"><div class="line"><span class="comment">// Enable connection ID</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.enable_connection_id = <span class="keyword">true</span>;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.connection_id_length = 8;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Migrate connection</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">new_address</a> = NetworkAddress::from_string(<span class="stringliteral">&quot;10.0.0.2:5000&quot;</span>);</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;migrate_connection(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">new_address</a>.<a class="code hl_function" href="classdtls_1_1v13_1_1Result.html#ab19678eb3fabf2a575b1a8e742f1a541">value</a>());</div>
<div class="ttc" id="aclassdtls_1_1v13_1_1Result_html_ab19678eb3fabf2a575b1a8e742f1a541"><div class="ttname"><a href="classdtls_1_1v13_1_1Result.html#ab19678eb3fabf2a575b1a8e742f1a541">dtls::v13::Result::value</a></div><div class="ttdeci">const T &amp; value() const &amp;</div><div class="ttdef"><b>Definition</b> <a href="result_8h_source.html#l00068">result.h:68</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md210"></a>
Key Updates</h2>
<div class="fragment"><div class="line"><span class="comment">// Request key update for forward secrecy</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;update_keys();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Export keying material for other uses</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">exported</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;export_keying_material(<span class="stringliteral">&quot;EXPORTER-Label&quot;</span>, 32);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md211"></a>
Session Management</h2>
<div class="fragment"><div class="line"><span class="comment">// Server: Create session ticket</span></div>
<div class="line"><span class="keyword">auto</span> ticket_data = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">handshake_mgr</a>-&gt;export_session_ticket();</div>
<div class="line"><span class="comment">// Store ticket_data for client</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Client: Resume session</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">handshake_mgr</a>-&gt;import_session_ticket(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">stored_ticket_data</a>);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md212"></a>
Performance Monitoring</h1>
<h2><a class="anchor" id="autotoc_md213"></a>
Connection Statistics</h2>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span>&amp; stats = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;get_statistics();</div>
<div class="line"> </div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Handshake time: &quot;</span> </div>
<div class="line">          &lt;&lt; std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line">              stats.handshake_duration).count() &lt;&lt; <span class="stringliteral">&quot;ms\n&quot;</span>;</div>
<div class="line">          </div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Throughput: &quot;</span> &lt;&lt; stats.bytes_sent + stats.bytes_received </div>
<div class="line">          &lt;&lt; <span class="stringliteral">&quot; bytes\n&quot;</span>;</div>
<div class="line">          </div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Errors: &quot;</span> &lt;&lt; stats.decrypt_errors + stats.protocol_errors </div>
<div class="line">          &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md214"></a>
System Metrics</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">metrics</a> = monitoring::MetricsCollector::instance();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get system-wide metrics</span></div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_stats</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">metrics</a>.get_system_metrics();</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Connections/sec: &quot;</span> &lt;&lt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_stats</a>.connections_per_second &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Memory usage: &quot;</span> &lt;&lt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_stats</a>.memory_usage_bytes &lt;&lt; <span class="stringliteral">&quot; bytes\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Generate report</span></div>
<div class="line">std::string <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">report</a> = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">metrics</a>.generate_metrics_report();</div>
<div class="line">std::cout &lt;&lt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">report</a> &lt;&lt; std::endl;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md215"></a>
Security Features</h1>
<h2><a class="anchor" id="autotoc_md216"></a>
DoS Protection</h2>
<div class="fragment"><div class="line">security::DoSProtection::DoSConfig <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_config</a>;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_config</a>.max_connections_per_ip = 100;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_config</a>.max_handshakes_per_second = 1000;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_config</a>.enable_cookie_verification = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1security_1_1DoSProtection.html">security::DoSProtection</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_protection</a>(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_config</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In server loop</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">dos_protection</a>.should_accept_connection(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">client_addr</a>)) {</div>
<div class="line">    <span class="comment">// Accept connection</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassdtls_1_1v13_1_1security_1_1DoSProtection_html"><div class="ttname"><a href="classdtls_1_1v13_1_1security_1_1DoSProtection.html">dtls::v13::security::DoSProtection</a></div><div class="ttdoc">Comprehensive DoS protection system.</div><div class="ttdef"><b>Definition</b> <a href="security_2dos__protection_8h_source.html#l00180">dos_protection.h:180</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md217"></a>
Certificate Validation</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">handshake_mgr</a>-&gt;set_certificate_verify_callback(</div>
<div class="line">    [](<span class="keyword">const</span> std::vector&lt;std::vector&lt;uint8_t&gt;&gt;&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">cert_chain</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        <span class="comment">// Custom certificate validation logic</span></div>
<div class="line">        <span class="keywordflow">return</span> validate_certificate_chain(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">cert_chain</a>);</div>
<div class="line">    }</div>
<div class="line">);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md218"></a>
Common Patterns</h1>
<h2><a class="anchor" id="autotoc_md219"></a>
Async Operations</h2>
<div class="fragment"><div class="line"><span class="comment">// Async handshake</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;handshake_async([](<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">Result&lt;void&gt;</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a>) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Handshake completed asynchronously\n&quot;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Handshake failed: &quot;</span> &lt;&lt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">result</a>.<a class="code hl_function" href="classdtls_1_1v13_1_1Result.html#acae6b3edbb83a4098261519bc9f8e2a3">error</a>().message() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md220"></a>
Error Recovery</h2>
<div class="fragment"><div class="line"><span class="comment">// Configure automatic recovery</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.error_recovery.max_retries = 5;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.error_recovery.initial_retry_delay = std::chrono::seconds(1);</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.error_recovery.backoff_multiplier = 2.0;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">config</a>.error_recovery.enable_automatic_recovery = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Handle recovery events</span></div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;set_event_callback([](<a class="code hl_enumeration" href="namespacedtls_1_1v13.html#ae6e8032c12417cb62fd44f38dfe5a1ea">ConnectionEvent</a> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">event</a>, <span class="keyword">const</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Connection.html">Connection</a>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>) {</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">event</a> == ConnectionEvent::RECOVERY_SUCCEEDED) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Connection recovered successfully\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md221"></a>
Multi-threaded Usage</h2>
<div class="fragment"><div class="line"><span class="comment">// Thread-safe operations</span></div>
<div class="line">std::vector&lt;std::thread&gt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">workers</a>;</div>
<div class="line">std::shared_ptr&lt;Connection&gt; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">shared_conn</a> = std::move(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">i</a> = 0; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">i</a> &lt; 4; ++<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">i</a>) {</div>
<div class="line">    <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">workers</a>.emplace_back([<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">shared_conn</a>]() {</div>
<div class="line">        <span class="comment">// Each thread can safely use the connection</span></div>
<div class="line">        <span class="keyword">auto</span> data = <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">generate_data</a>();</div>
<div class="line">        <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">shared_conn</a>-&gt;send(data);</div>
<div class="line">    });</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">worker</a> : <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">workers</a>) {</div>
<div class="line">    <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">worker</a>.join();</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md222"></a>
Debugging and Logging</h1>
<h2><a class="anchor" id="autotoc_md223"></a>
Debug Configuration</h2>
<div class="fragment"><div class="line">config::SystemConfig <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_config</a>;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_config</a>.default_log_level = LogLevel::DEBUG;</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_config</a>.enable_memory_debugging = <span class="keyword">true</span>;</div>
<div class="line">config::set_global_config(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">system_config</a>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md224"></a>
Performance Profiling</h2>
<div class="fragment"><div class="line"><span class="comment">// Enable detailed metrics</span></div>
<div class="line"><span class="keyword">auto</span>&amp; <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">metrics</a> = monitoring::MetricsCollector::instance();</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">metrics</a>.enable_detailed_metrics(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Profile specific operations</span></div>
<div class="line"><span class="keyword">auto</span> start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">conn</a>-&gt;handshake();</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">duration</a> = std::chrono::high_resolution_clock::now() - start;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">metrics</a>.record_handshake_time(</div>
<div class="line">    std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(<a class="code hl_class" href="classdtls_1_1v13_1_1Result.html">duration</a>)</div>
<div class="line">);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md225"></a>
Build Integration</h1>
<h2><a class="anchor" id="autotoc_md226"></a>
CMake Integration</h2>
<div class="fragment"><div class="line">find_package(DTLSv13 REQUIRED)</div>
<div class="line">target_link_libraries(your_target DTLSv13::DTLSv13)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md227"></a>
Compiler Requirements</h2>
<ul>
<li>C++20 or later</li>
<li>OpenSSL 1.1.1+ or 3.0+</li>
<li>CMake 3.20+</li>
</ul>
<h1><a class="anchor" id="autotoc_md228"></a>
Common Error Solutions</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Error   </th><th class="markdownTableHeadNone">Likely Cause   </th><th class="markdownTableHeadNone">Solution    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>HANDSHAKE_FAILED</code>   </td><td class="markdownTableBodyNone">Certificate issues   </td><td class="markdownTableBodyNone">Check certificate chain    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CRYPTO_ERROR</code>   </td><td class="markdownTableBodyNone">Provider unavailable   </td><td class="markdownTableBodyNone">Install OpenSSL/Botan    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>NETWORK_ERROR</code>   </td><td class="markdownTableBodyNone">Connection refused   </td><td class="markdownTableBodyNone">Check server address/port    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>OUT_OF_MEMORY</code>   </td><td class="markdownTableBodyNone">Large buffers   </td><td class="markdownTableBodyNone">Configure buffer pool    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>PROTOCOL_ERROR</code>   </td><td class="markdownTableBodyNone">Version mismatch   </td><td class="markdownTableBodyNone">Ensure DTLS v1.3 support   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md229"></a>
Best Practices</h1>
<ol type="1">
<li><b>Always check Result&lt;T&gt; return values</b></li>
<li><b>Use connection pooling for servers</b></li>
<li><b>Enable connection ID for NAT traversal</b></li>
<li><b>Configure appropriate timeouts</b></li>
<li><b>Use early data only with idempotent operations</b></li>
<li><b>Implement proper certificate validation</b></li>
<li><b>Monitor connection health and metrics</b></li>
<li><b>Handle errors gracefully with recovery</b></li>
<li><b>Use secure memory for sensitive data</b></li>
<li><b>Test with multiple crypto providers</b> </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
