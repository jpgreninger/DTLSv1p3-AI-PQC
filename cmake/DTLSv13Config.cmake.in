@PACKAGE_INIT@

# DTLSv13 CMake configuration file

set(DTLSv13_VERSION "@PROJECT_VERSION@")

# Check for required C++20 support
include(CheckCXXCompilerFlag)
check_cxx_compiler_flag("-std=c++20" COMPILER_SUPPORTS_CXX20)
if(NOT COMPILER_SUPPORTS_CXX20)
    set(DTLSv13_FOUND FALSE)
    set(DTLSv13_NOT_FOUND_MESSAGE "DTLSv13 requires C++20 support")
    return()
endif()

# Component configuration
set(DTLSv13_HAS_BOTAN @DTLS_HAS_BOTAN@)
set(DTLSv13_HAS_SYSTEMC @DTLS_HAS_SYSTEMC@)
set(DTLSv13_ENABLE_HARDWARE_ACCEL @DTLS_ENABLE_HARDWARE_ACCEL@)

# Find required dependencies
find_dependency(OpenSSL REQUIRED)
find_dependency(Threads REQUIRED)

# Optional dependencies
if(DTLSv13_HAS_BOTAN)
    find_dependency(PkgConfig REQUIRED)
    pkg_check_modules(BOTAN REQUIRED botan-3)
endif()

if(DTLSv13_HAS_SYSTEMC)
    find_dependency(SystemCLanguage REQUIRED)
endif()

# Include targets
include("${CMAKE_CURRENT_LIST_DIR}/DTLSv13Targets.cmake")

# Provide component information
set(DTLSv13_LIBRARIES DTLSv13::dtlsv13)
set(DTLSv13_INCLUDE_DIRS "${PACKAGE_PREFIX_DIR}/include")

# Component availability
if(DTLSv13_HAS_BOTAN)
    list(APPEND DTLSv13_LIBRARIES ${BOTAN_LIBRARIES})
endif()

check_required_components(DTLSv13)